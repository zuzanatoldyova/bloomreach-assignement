<div>
  <div>
    <span class="step">{{ order + 1 }}. step </span>
    <span class="">{{ selectedEvent }}</span>
  </div>
  <div class="row">
    <select class="arrow" 
      name="events" 
      [(ngModel)]="selectedEvent"
      (change)="select()">
      <option *ngFor="let eventName of allEventNames" [ngValue]="eventName">{{ eventName }}</option>
    </select>
    <button class="buttonLink" *ngIf="!showFilter" (click)="showFilter = true">Add event attribute</button>
    <select class="arrow"
      *ngIf="showFilter" name="attributes"
      [(ngModel)]="selectedAttribute">
      <option value="" selected disabled hidden>Unnamed</option>
      <option *ngFor="let key of selectedEventKeys" [value]="key">{{ key }}
        </option>
    </select>
    <app-filter-type *ngIf="selectedAttribute" (filterSelected)="addFilter($event)"></app-filter-type>
    <span class="close" *ngIf="showFilter" (click)="removeFilter()"></span>
  </div>
</div>
